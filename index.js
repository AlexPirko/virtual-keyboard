!function(){"use strict";class t{constructor(){this.textarea=null,this.keysContainer=null,this.keys=[],this.value="",this.capsLock=!1,this.shift=!1,this.engKeyLayout=["`","1","2","3","4","5","6","7","8","9","0","-","=","backspace","tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","delete","capsLock","a","s","d","f","g","h","j","k","l",";","'","enter","shift","z","x","c","v","b","n","m",",",".","/","▲","shift","ctrl","win","alt","space","alt","◄","▼","►","ctrl"],this.shiftEngLayout=["~","!","@","#","$","%","^","&","*","(",")","_","+","backspace","tab","Q","W","E","R","T","Y","U","I","O","P","{","}","|","delete","capsLock","A","S","D","F","G","H","J","K","L",":",'"',"enter","shift","Z","X","C","V","B","N","M","<",">","?","▲","shift","ctrl","win","alt","space","alt","◄","▼","►","ctrl"],this.ruKeyLayout=["ё","1","2","3","4","5","6","7","8","9","0","-","=","backspace","tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","\\","delete","capsLock","ф","ы","в","а","п","р","о","л","д","ж","э","enter","shift","я","ч","с","м","и","т","ь","б","ю",".","▲","shift","ctrl","win","alt","space","alt","◄","▼","►","ctrl"],this.shiftRuLayout=["Ё","!",'"',"№",";","%",":","?","*","(",")","_","+","backspace","tab","Й","Ц","У","К","Е","Н","Г","Ш","Щ","З","Х","Ъ","|","delete","capsLock","Ф","Ы","В","А","П","Р","О","Л","Д","Ж","Э","enter","shift","Я","Ч","С","М","И","Т","Ь","Б","Ю",",","▲","shift","ctrl","win","alt","space","alt","◄","▼","►","ctrl"],this.keyLayout=localStorage.getItem("layout")||"eng",this.setLanguage()}init(){const t=document.createElement("main"),e=document.createElement("div"),s=document.createElement("h1"),a=document.createElement("h3"),i=document.createElement("textarea"),n=document.createElement("div");document.body.appendChild(t),t.classList.add("main"),t.appendChild(e),e.classList.add("container"),e.appendChild(s),s.classList.add("title"),e.appendChild(a),a.classList.add("subtitle"),e.appendChild(i),i.classList.add("textarea"),i.setAttribute("id","textarea"),e.appendChild(n),n.classList.add("keyboard"),n.appendChild(this.createKeyElements()),this.keys=n.querySelectorAll(".keybtn__letter"),s.textContent="Virtual keyboard by Alex Pirko, RSS",a.textContent="The keyboard was created on Windows. To change the language press Ctrl + Alt"}setLanguage(){"eng"===this.keyLayout?this.keyLayout=this.engKeyLayout:"ru"===this.keyLayout&&(this.keyLayout=this.ruKeyLayout)}shiftLayout(){this.keyLayout===this.engKeyLayout?this.keyLayout=this.shiftEngLayout:this.keyLayout===this.ruKeyLayout&&(this.keyLayout=this.shiftRuLayout),document.querySelector(".keyboard").textContent="",document.querySelector(".keyboard").appendChild(this.createKeyElements())}unShiftLayout(){this.keyLayout===this.shiftEngLayout?this.keyLayout=this.engKeyLayout:this.keyLayout===this.shiftRuLayout&&(this.keyLayout=this.ruKeyLayout),this.capsLock=!1,document.querySelector(".keyboard").textContent="",document.querySelector(".keyboard").appendChild(this.createKeyElements())}changeLanguage(){this.keyLayout=this.keyLayout===this.engKeyLayout?this.ruKeyLayout:this.engKeyLayout,this.keyLayout===this.engKeyLayout?localStorage.setItem("layout","eng"):this.keyLayout===this.ruKeyLayout&&localStorage.setItem("layout","ru"),document.querySelector(".keyboard").textContent="",document.querySelector(".keyboard").appendChild(this.createKeyElements())}createKeyElements(){const t=document.createDocumentFragment();return this.keyLayout.forEach(((e,s)=>{const a=document.createElement("button");switch(a.classList.add("keybtn"),a.setAttribute("type","button"),a.setAttribute("id",["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Backspace","Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","Delete","CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter","ShiftLeft","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","ArrowUp","ShiftRight","ControlLeft","MetaLeft","AltLeft","Space","AltRight","ArrowLeft","ArrowDown","ArrowRight","ControlRight"][s]),e){case"backspace":a.classList.add("keybtn__extrawide"),a.textContent="Backspace",a.addEventListener("click",(()=>{this.value=this.value.substring(0,this.value.length-1),this.printText(this.value)}));break;case"tab":a.classList.add("keybtn__halfwide"),a.innerHTML="Tab",a.addEventListener("click",(()=>{this.value+="\t",this.printText(this.value)}));break;case"delete":a.classList.add("keybtn__halfwide"),a.innerHTML="Del",a.addEventListener("click",(()=>{const t=document.getElementById("textarea"),e=t.selectionStart;this.value=this.value.substring(0,e)+this.value.substring(e+1,this.value.length),t.innerHTML=this.value,t.focus(),t.selectionStart=e}));break;case"capsLock":a.classList.add("keybtn__wide"),a.innerHTML="CapsLock",a.addEventListener("click",(()=>{a.classList.toggle("pushed"),this.toggleCaps()}));break;case"enter":a.classList.add("keybtn__wide"),a.innerHTML="Enter",a.addEventListener("click",(()=>{this.value+="\n",this.printText(this.value)}));break;case"shift":a.classList.add("keybtn__wide","shift-key"),a.innerHTML="Shift";break;case"space":a.classList.add("keybtn__superwide"),a.addEventListener("click",(()=>{this.value+=" ",this.printText(this.value)}));break;case"ctrl":a.classList.add("keybtn__halfwide"),a.innerHTML="Ctrl";break;case"win":a.classList.add("keybtn__halfwide"),a.innerHTML="Win";break;case"alt":a.classList.add("keybtn__halfwide"),a.innerHTML="Alt";break;default:a.textContent=e,a.classList.add("keybtn__letter"),a.addEventListener("click",(()=>{this.value+=this.capsLock?e.toUpperCase():e.toLowerCase(),this.printText(this.value)}))}a.addEventListener("click",(()=>{a.classList.add("active"),setTimeout((()=>{a.classList.remove("active")}),300)})),t.appendChild(a)})),t}printText(t){this.textarea=document.getElementById("textarea"),this.textarea.innerHTML=t,this.textarea.focus(),this.textarea.selectionStart=this.textarea.value.length}toggleCaps(){this.capsLock=!this.capsLock;for(const t of this.keys)t.textContent=this.capsLock?t.textContent.toUpperCase():t.textContent.toLowerCase()}addKeysFunctions(){document.addEventListener("keydown",(t=>{const e=document.querySelector(`.keybtn[id="${t.code}"]`);if(e)if(t.preventDefault(),e.classList.add("active"),e.classList.contains("keybtn__letter"))this.value+=this.capsLock?e.textContent.toUpperCase():e.textContent.toLowerCase(),this.printText(this.value);else if("CapsLock"!==t.key||t.repeat)if("Backspace"===t.key)this.value=this.value.substring(0,this.value.length-1),this.printText(this.value);else if("Tab"===t.key)this.value+="\t",this.printText(this.value);else if("Delete"===t.key){const t=document.getElementById("textarea"),e=t.selectionStart;this.value=this.value.substring(0,e)+this.value.substring(e+1,this.value.length),t.innerHTML=this.value,t.focus(),t.selectionStart=e}else"Enter"===t.key?(this.value+="\n",this.printText(this.value)):" "===t.key?(this.value+=" ",this.printText(this.value)):"Shift"!==t.key||t.repeat?t.ctrlKey&&t.altKey&&this.changeLanguage():(this.capsLock=!this.capsLock,this.shiftLayout());else this.toggleCaps(),e.classList.toggle("pushed")})),document.addEventListener("keyup",(t=>{t.preventDefault();const e=document.querySelector(`.keybtn[id="${t.code}"]`);e&&(e.classList.remove("active"),"Shift"!==t.key||t.repeat||(this.capsLock=!this.capsLock,this.unShiftLayout()))})),document.addEventListener("mousedown",(t=>{"ShiftLeft"!==t.target.id&&"ShiftRight"!==t.target.id||(t.target.classList.add("active"),this.shift=!0,this.shiftLayout())})),document.addEventListener("mouseup",(t=>{"ShiftLeft"!==t.target.id&&"ShiftRight"!==t.target.id||(t.target.classList.remove("pushed"),this.shift=!1,this.unShiftLayout())}))}}window.addEventListener("DOMContentLoaded",(()=>{const e=new t;e.init(),e.addKeysFunctions()}))}();
//# sourceMappingURL=index.js.map